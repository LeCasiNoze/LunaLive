/* Titles under username — DEFAULT (pro, lisible, DA)
   Objectif: aucun gradient/transparent pour l’instant.
*/
.chatTitle{
  margin-top: 4px;
  font-weight: 850;
  font-size: 12.5px;
  opacity: 0.95;

  width: fit-content;
  max-width: 100%;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  font-style: italic;
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;

  /* base DA (violet doux) */
  color: rgba(142,197,255,0.92);                 /* ✅ bleu default */
  text-decoration-color: rgba(142,197,255,0.55); /* ✅ underline bleu */
}

/* si tu veux que “silver” = le même bleu (par défaut) */
.title--silver{
  color: rgba(142,197,255,0.92);
  text-decoration-color: rgba(142,197,255,0.55);
}

/* (optionnel) bronze un peu plus discret mais bleu quand même */
.title--bronze{
  color: rgba(142,197,255,0.72);
  text-decoration-color: rgba(142,197,255,0.35);
}
.title--gold{
  color: rgba(255,210,120,0.92);
  text-decoration-color: rgba(255,210,120,0.55);
}
.title--master{
  color: rgba(190,240,255,0.92);
  text-decoration-color: rgba(190,240,255,0.55);
  text-shadow: 0 0 10px rgba(190,240,255,0.08);
}

/* Frames */
.chatFrame--lunaPetals{
  position: relative;
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(10, 8, 14, 0.94), rgba(10, 8, 14, 0.94)) padding-box,
    linear-gradient(135deg, rgba(126,76,179,0.55), rgba(63,86,203,0.35)) border-box;
  box-shadow: 0 0 0 1px rgba(126,76,179,0.10), 0 18px 50px rgba(0,0,0,0.35);
}
.chatFrame--lunaPetals::after{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 14px;
  background:
    radial-gradient(220px 120px at 15% 0%, rgba(126,76,179,0.18), transparent 65%),
    radial-gradient(220px 120px at 90% 10%, rgba(63,86,203,0.14), transparent 60%);
  pointer-events:none;
  opacity: 0.9;
}

.chatFrame--gold{
  position: relative;
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(10, 8, 14, 0.94), rgba(10, 8, 14, 0.94)) padding-box,
    linear-gradient(135deg, rgba(255,210,120,0.45), rgba(126,76,179,0.30)) border-box;
  box-shadow: 0 0 0 1px rgba(255,210,120,0.08), 0 18px 50px rgba(0,0,0,0.35);
}
.chatFrame--gold::after{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 14px;
  background:
    radial-gradient(220px 120px at 15% 0%, rgba(255,210,120,0.10), transparent 65%),
    radial-gradient(220px 120px at 90% 10%, rgba(126,76,179,0.10), transparent 60%);
  pointer-events:none;
  opacity: 0.9;
}

.chatFrame--eclipse{
  position: relative;
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(10, 8, 14, 0.94), rgba(10, 8, 14, 0.94)) padding-box,
    linear-gradient(135deg, rgba(126,76,179,0.55), rgba(63,86,203,0.42)) border-box;
  box-shadow: 0 0 0 1px rgba(126,76,179,0.10), 0 18px 50px rgba(0,0,0,0.35);
}
.chatFrame--eclipse::after{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 14px;
  background:
    radial-gradient(220px 120px at 15% 0%, rgba(126,76,179,0.14), transparent 65%),
    radial-gradient(220px 120px at 90% 10%, rgba(63,86,203,0.12), transparent 60%);
  pointer-events:none;
  opacity: 0.9;
}

.chatFrame--lotusCrown{
  position: relative;
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(10, 8, 14, 0.94), rgba(10, 8, 14, 0.94)) padding-box,
    linear-gradient(135deg, rgba(63,86,203,0.50), rgba(190,240,255,0.20)) border-box;
  box-shadow: 0 0 0 1px rgba(63,86,203,0.10), 0 18px 50px rgba(0,0,0,0.35);
}
.chatFrame--lotusCrown::after{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 14px;
  background:
    radial-gradient(220px 120px at 15% 0%, rgba(63,86,203,0.12), transparent 65%),
    radial-gradient(220px 120px at 90% 10%, rgba(190,240,255,0.10), transparent 60%);
  pointer-events:none;
  opacity: 0.9;
}

/* ===========================
   Username effects (UNIQUE)
   =========================== */

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .username--rainbow,
  .username--neon,
  .username--chroma,
  .username--gold{
    animation: none !important;
  }
  .username--neon::after,
  .username--neon::before{
    animation: none !important;
  }
}

/* RAINBOW */
@keyframes unameRainbowMove {
  0%   { background-position: 0% 50%; }
  100% { background-position: 220% 50%; }
}
.username--rainbow{
  color: transparent;
  background-image: linear-gradient(
    90deg,
    #ff4d6d 0%,
    #ff9f1c 14%,
    #ffd54a 28%,
    #2de2a6 42%,
    #3F56CB 56%,
    #7E4CB3 70%,
    #ff4d6d 84%,
    #ffd54a 100%
  );
  background-size: 240% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  animation: unameRainbowMove 3.2s linear infinite;
}

/* CHROMA (brand shimmer) */
@keyframes chromaShimmer {
  0%   { background-position: 0% 50%, -120% 50%; }
  100% { background-position: 180% 50%, 220% 50%; }
}
.username--chroma{
  color: transparent;
  background-image:
    linear-gradient(
      90deg,
      rgba(126,76,179,1) 0%,
      rgba(63,86,203,1) 40%,
      rgba(126,76,179,1) 80%,
      rgba(63,86,203,1) 100%
    ),
    linear-gradient(
      90deg,
      rgba(255,255,255,0.00) 0%,
      rgba(255,255,255,0.55) 45%,
      rgba(255,255,255,0.00) 60%
    );
  background-size: 220% 100%, 140% 100%;
  background-blend-mode: screen;
  -webkit-background-clip: text;
  background-clip: text;
  animation: chromaShimmer 2.4s linear infinite;
  text-shadow: 0 0 14px rgba(126,76,179,0.10);
}

/* GOLD (luxe) */
@keyframes goldMetalMove {
  0%   { background-position: 0% 50%, -140% 50%, 0% 50%; }
  100% { background-position: 220% 50%, 240% 50%, 220% 50%; }
}
/* GOLD (look "pseudo-gold" + glow, avec glint animé) */
@keyframes goldGlintMove {
  0%   { background-position: 0% 50%, -120% 50%; }
  100% { background-position: 140% 50%, 220% 50%; }
}

/* GOLD (champagne metal, glint discret) */
@keyframes goldGlintMove {
  0%   { background-position: 0% 50%, -120% 50%; }
  100% { background-position: 140% 50%, 220% 50%; }
}

.username--gold{
  color: transparent;

  /* 1) base champagne (moins saturé, plus métal)
     2) glint très soft qui traverse */
  background-image:
    linear-gradient(
      90deg,
      #4b3516 0%,
      #8c6a2a 14%,
      #caa25a 28%,
      #efd9a8 45%,
      #fff2d2 52%,
      #e4c784 66%,
      #b38a3f 82%,
      #4b3516 100%
    ),
    linear-gradient(
      90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,.55) 48%,
      rgba(255,255,255,0) 60%
    );

  background-size: 170% 100%, 70% 100%;
  background-blend-mode: normal, screen;

  -webkit-background-clip: text;
  background-clip: text;

  /* moins de "brillant": glow réduit + stroke plus soft */
  -webkit-text-stroke: 0.30px rgba(255, 226, 160, 0.22);
  text-shadow:
    0 0 2px rgba(255, 215, 150, 0.25),
    0 0 6px rgba(255, 220, 160, 0.18);

  animation: goldGlintMove 3.6s ease-in-out infinite;
}

/* ✅ NEON (surbrillance) */
.username--neon{
  color: #e4d9ff;
  -webkit-text-stroke: 0.5px rgba(168, 85, 247, 0.85);
  text-shadow:
    0 0 3px rgba(168, 85, 247, 0.95),
    0 0 7px rgba(139, 92, 246, 0.8),
    0 0 12px rgba(129, 140, 248, 0.7);
}

/* =========================================================
   Preview (Shop / Personalisation) — ne pas tronquer
   Mets la classe "shopPreviewNoTruncate" sur le container parent
   ========================================================= */

.shopPreviewNoTruncate{
  overflow: visible !important;
}

.shopPreviewNoTruncate .chatMsgRow,
.shopPreviewNoTruncate .chatMsgContent,
.shopPreviewNoTruncate .chatMsgTopLeft{
  overflow: visible !important;
}

/* Username + Title: pas d'ellipsis, on autorise le retour à la ligne */
.shopPreviewNoTruncate .chatUsername,
.shopPreviewNoTruncate .chatTitle{
  max-width: none !important;
  overflow: visible !important;
  text-overflow: clip !important;
  white-space: normal !important;
  overflow-wrap: anywhere !important; /* ✅ si username très long sans espaces */
}
/* ──────────────────────────────────────────
   COSMETICS CARDS (Shop + Personnalisation)
   ────────────────────────────────────────── */

.cosGrid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(270_togglepx, 1fr));
  gap: 12px;
}
@media (max-width: 520px){
  .cosGrid{ grid-template-columns: 1fr; }
}

/* Card container */
.cosCard{
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.04);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Compact header */
.cosCardHead{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
}
.cosCardTitle{
  font-weight: 950;
  font-size: 14px;
  line-height: 1.15;
  margin: 0;
}
.cosCardMeta{
  display:flex;
  align-items:center;
  gap: 8px;
  margin-top: 6px;
  flex-wrap: wrap;
}
.cosPill{
  display:inline-flex;
  align-items:center;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 950;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.25);
  color: rgba(255,255,255,0.90);
}
.cosPillOwned{
  opacity: 0.85;
  border-color: rgba(190,240,255,0.28);
}
.cosPrice{
  font-weight: 950;
  font-size: 12px;
  opacity: 0.92;
  white-space: nowrap;
}

/* Preview bigger + readable */
.cosPreview{
  pointer-events: none;
  opacity: 0.98;
  transform: none;
}

/* Make username not truncated inside cosmetics preview */
/* ✅ Shop: dans les previews, on évite de couper le pseudo */
.cosPreview .chatUsername{
  white-space: normal;
  overflow: visible;
  text-overflow: unset;
}

/* Reduce internal chat bubble padding a tiny bit in previews (optional) */
.cosPreview .chatMsgRow{
  padding: 9px 10px;
}
/* =========================================================
/* HARD FIX — Un titre ne doit JAMAIS récupérer l'effet du pseudo
   MAIS on laisse vivre les animations des titres */
.chatTitle{
  /* ❌ surtout pas: animation:none !important; */
  /* ❌ surtout pas: transform:none !important; */

  filter: none !important;
  text-shadow: none !important;
  -webkit-text-fill-color: currentColor !important;

  /* ton style de base */
  margin-top: 2px;
  font-size: 12px;
  font-style: italic;
  text-decoration: underline;
}


/* Si par bug le titre se retrouve avec une classe username--... */
.chatTitle.username--rainbow,
.chatTitle.username--chroma,
.chatTitle.username--gold,
.chatTitle.username--neon{
  animation: none !important;
  background-image: none !important;
  background-size: auto !important;
  background-position: 0% 50% !important;

  /* ✅ fallback DA (au lieu du blanc) */
  color: rgba(142,197,255,0.92) !important; /* ✅ bleu default */
  -webkit-text-fill-color: currentColor !important;

  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  -webkit-text-stroke: 0 !important;
  text-shadow: none !important;
}

/* Si par bug le titre a reçu un effet titleFx */
.chatTitle.titleFx--shimmer,
.chatTitle.titleFx--aurora{
  animation: none !important;
}

/* ─────────────────────────────────────────────
   TITLES (succès) — couleur + animation
   Utilise: data-title-code="title_..."
   À coller EN BAS de 50_cosmetics.css
───────────────────────────────────────────── */

.chatTitle[data-title-code]{
  position: relative;
  display: inline-block;
  will-change: transform, opacity;
  -webkit-text-fill-color: currentColor !important; /* sécurité si un style mettait transparent */
}

/* Accessibilité */
@media (prefers-reduced-motion: reduce){
  .chatTitle[data-title-code],
  .chatTitle[data-title-code]::before,
  .chatTitle[data-title-code]::after{
    animation: none !important;
    transition: none !important;
  }
}

/* Helpers: underline cohérent */
.chatTitle[data-title-code]{
  text-decoration-thickness: 1px;
  text-underline-offset: 2px;
}

/* ───────────── Ratus (uncommon) — gris “rat” + twitch rare ───────────── */
@keyframes titleRatusTwitch{
  0%, 92%, 100% { transform: translateX(0) rotate(0deg); }
  93% { transform: translateX(-1px) rotate(-0.4deg); }
  94% { transform: translateX( 1px) rotate( 0.4deg); }
  95% { transform: translateX(-1px) rotate(-0.2deg); }
  96% { transform: translateX(0) rotate(0deg); }
}
.chatTitle[data-title-code="title_ratus"]{
  color: rgba(190, 198, 210, 0.92) !important;               /* gris bleuté */
  text-decoration-color: rgba(190, 198, 210, 0.55) !important;
  animation: titleRatusTwitch 7.5s ease-in-out infinite !important;
}

/* ───────────── Ça tourne ! (rare) — cyan “roulette” + sweep sous le texte ───────────── */
@keyframes titleTourneSweep{
  from { background-position: 200% 0; }
  to   { background-position: -200% 0; }
}
.chatTitle[data-title-code="title_ca_tourne"]{
  color: rgba(120, 224, 255, 0.92) !important;              /* cyan doux */
  text-decoration-color: rgba(120, 224, 255, 0.55) !important;
}
.chatTitle[data-title-code="title_ca_tourne"]::after{
  content:"";
  position:absolute;
  left: 0; right: 0;
  bottom: -2px;
  height: 2px;
  border-radius: 999px;
  opacity: 0.80;
  pointer-events:none;

  background: linear-gradient(90deg,
    transparent 0%,
    rgba(255,255,255,0.16) 35%,
    rgba(120,224,255,0.80) 50%,
    rgba(255,255,255,0.16) 65%,
    transparent 100%
  );
  background-size: 220% 100%;
  animation: titleTourneSweep 2.8s linear infinite !important;
}

/* ───────────── Vrai Viewer (rare) — bleu “scan” + highlight qui traverse ───────────── */
@keyframes titleViewerScan{
  0%, 70%   { transform: translateX(-130%); opacity: 0; }
  78%       { opacity: 0.30; }
  92%       { transform: translateX(130%); opacity: 0.30; }
  100%      { transform: translateX(130%); opacity: 0; }
}
.chatTitle[data-title-code="title_vrai_viewer"]{
  color: rgba(142,197,255,0.92) !important;                 /* bleu default */
  text-decoration-color: rgba(142,197,255,0.55) !important;
}
.chatTitle[data-title-code="title_vrai_viewer"]::before{
  content:"";
  position:absolute;
  inset: 0;
  pointer-events:none;
  border-radius: 8px;
  mix-blend-mode: screen;

  background: linear-gradient(120deg,
    transparent 0%,
    rgba(255,255,255,0.22) 45%,
    rgba(142,197,255,0.18) 52%,
    rgba(255,255,255,0.22) 58%,
    transparent 100%
  );
  transform: translateX(-130%);
  animation: titleViewerScan 5.2s ease-in-out infinite !important;
}

/* ───────────── No Life (epic) — violet “nuit” + respiration lente ───────────── */
@keyframes titleNoLifeBreathe{
  0%, 100% { opacity: 0.78; transform: translateY(0); }
  50%      { opacity: 1;    transform: translateY(0.6px); }
}
.chatTitle[data-title-code="title_no_life"]{
  color: rgba(168, 140, 255, 0.92) !important;              /* violet doux */
  text-decoration-color: rgba(168, 140, 255, 0.55) !important;
  animation: titleNoLifeBreathe 3.2s ease-in-out infinite !important;
}

/* ───────────── Batman (epic) — jaune “bat-signal” + spotlight subtil ───────────── */
@keyframes titleBatSignal{
  0%, 74%   { transform: translateX(-140%); opacity: 0; }
  80%       { opacity: 0.28; }
  95%       { transform: translateX(140%);  opacity: 0.28; }
  100%      { transform: translateX(140%);  opacity: 0; }
}
.chatTitle[data-title-code="title_batman"]{
  color: rgba(255, 211, 90, 0.92) !important;               /* jaune doux */
  text-decoration-color: rgba(255, 211, 90, 0.55) !important;
}
.chatTitle[data-title-code="title_batman"]::before{
  content:"";
  position:absolute;
  inset: -2px -8px;
  pointer-events:none;
  border-radius: 10px;
  mix-blend-mode: screen;

  background: radial-gradient(circle at 30% 50%,
    rgba(255,255,255,0.22) 0%,
    rgba(255,255,255,0.10) 28%,
    transparent 60%
  );
  transform: translateX(-140%);
  animation: titleBatSignal 6.2s ease-in-out infinite !important;
}

/* ─────────────────────────────────────────────
   (Optionnel) si tu veux AUSSI color+anim pour les titres shop :
───────────────────────────────────────────── */

/* BigMoula — vert “cash” + sheen diagonal rare */
@keyframes titleMoulaSheen{
  0%, 78%   { transform: translateX(-140%) rotate(12deg); opacity: 0; }
  82%       { opacity: 0.22; }
  96%       { transform: translateX(140%)  rotate(12deg); opacity: 0.22; }
  100%      { transform: translateX(140%)  rotate(12deg); opacity: 0; }
}
.chatTitle[data-title-code="title_bigmoula"]{
  color: rgba(110, 235, 170, 0.92) !important;
  text-decoration-color: rgba(110, 235, 170, 0.55) !important;
}
.chatTitle[data-title-code="title_bigmoula"]::before{
  content:"";
  position:absolute;
  top: -6px; bottom: -6px;
  left: -25%;
  width: 55%;
  pointer-events:none;
  border-radius: 12px;
  mix-blend-mode: screen;

  background: linear-gradient(90deg,
    transparent 0%,
    rgba(255,255,255,0.22) 45%,
    rgba(255,255,255,0.08) 55%,
    transparent 100%
  );
  transform: translateX(-140%) rotate(12deg);
  animation: titleMoulaSheen 7.2s ease-in-out infinite !important;
}

/* LunaKing — bleu “lunaire” + glow doux */
@keyframes titleLunaGlow{
  0%, 100% { text-shadow: 0 0 0 rgba(142,197,255,0.0); }
  50%      { text-shadow: 0 0 10px rgba(142,197,255,0.14); }
}
.chatTitle[data-title-code="title_lunaking"]{
  color: rgba(190, 240, 255, 0.92) !important;
  text-decoration-color: rgba(190, 240, 255, 0.55) !important;
  animation: titleLunaGlow 2.9s ease-in-out infinite !important;
}

/* All-in Man — orange “risque” + double pulse */
@keyframes titleAllInPulse{
  0%, 78%, 100% { transform: scale(1); }
  82%           { transform: scale(1.06); }
  86%           { transform: scale(1); }
  90%           { transform: scale(1.035); }
  94%           { transform: scale(1); }
}
.chatTitle[data-title-code="title_allin_man"]{
  color: rgba(255, 140, 105, 0.92) !important;
  text-decoration-color: rgba(255, 140, 105, 0.55) !important;
  animation: titleAllInPulse 4.0s ease-in-out infinite !important;
}
